<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>글 목록</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">

    <div class="mb-3">
        <a class="btn btn-primary me-2" href="{% url 'root' %}">메인 페이지</a>
        <a class="btn btn-success" href="{% url 'article:create' %}">글 작성하러 가기</a>
    </div>

    <table class="table table-bordered text-center">
        <thead class="table-light">
            <tr>
                <th>제목</th>
                <th>작성자</th>
                <th>작성일</th>
            </tr>
        </thead>

        <tbody>
            {% for article in articles %}
                <tr>
                    <td>
                        <a href="{% url 'article:show' article.id %}" class="text-decoration-none">
                            {{ article.title }}
                        </a>
                    </td>
                    <td>{{ article.author.username }}</td>
                    <td>{{ article.created_at }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <div style="margin-top: 20px; text-align: center;">
        {% if articles.has_previous %}
            <a href="?page=1" style="margin-right: 8px;">&laquo; 처음</a>
            <a href="?page={{ articles.previous_page_number }}" style="margin-right: 8px;">이전</a>
        {% else %}
            <span style="color: gray; margin-right: 8px;">&laquo; 처음</span>
            <span style="color: gray; margin-right: 8px;">이전</span>
        {% endif %}

        <span style="padding: 4px 8px; background-color: #e0f0ff; border-radius: 4px; margin: 0 8px;">
            {{ articles.number }} / {{ articles.paginator.num_pages }} 페이지
        </span>

        {% if articles.has_next %}
            <a href="?page={{ articles.next_page_number }}" style="margin-left: 8px;">다음</a>
            <a href="?page={{ articles.paginator.num_pages }}" style="margin-left: 8px;">마지막 &raquo;</a>
        {% else %}
            <span style="color: gray; margin-left: 8px;">다음</span>
            <span style="color: gray; margin-left: 8px;">마지막 &raquo;</span>
        {% endif %}
    </div>
</body>
</html>
