<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>글 목록</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">

    <div class="mb-3">
        <a class="btn btn-primary me-2" href="{% url 'root' %}">메인 페이지</a>
        <a class="btn btn-success" href="{% url 'article:create' %}">글 작성하러 가기</a>
    </div>

    <table class="table table-bordered text-center">
        <thead class="table-light">
            <tr>
                <th>제목</th>
                <th>작성자</th>
                <th>작성일</th>
            </tr>
        </thead>
        <tbody>
            {% for article in articles %}
                <tr>
                    <td>
                        <a href="{% url 'article:show' article.id %}" class="text-decoration-none">
                            {{ article.title }}
                        </a>
                    </td>
                    <td>{{ article.author.username }}</td>
                    <td>{{ article.created_at }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="mt-4 d-flex justify-content-center align-items-center flex-wrap gap-2">
        {% if articles.has_previous %}
            <a href="?page=1" class="btn btn-outline-secondary btn-sm">&laquo; 처음</a>
            <a href="?page={{ articles.previous_page_number }}" class="btn btn-outline-secondary btn-sm">이전</a>
        {% else %}
            <span class="btn btn-sm btn-outline-secondary disabled">&laquo; 처음</span>
            <span class="btn btn-sm btn-outline-secondary disabled">이전</span>
        {% endif %}

        {% for page_num in articles.paginator.page_range %}
            {% if page_num == articles.number %}
                <span class="btn btn-sm btn-primary disabled">{{ page_num }}</span>
            {% else %}
                <a href="?page={{ page_num }}" class="btn btn-sm btn-outline-primary">{{ page_num }}</a>
            {% endif %}
        {% endfor %}

        {% if articles.has_next %}
            <a href="?page={{ articles.next_page_number }}" class="btn btn-outline-secondary btn-sm">다음</a>
            <a href="?page={{ articles.paginator.num_pages }}" class="btn btn-outline-secondary btn-sm">마지막 &raquo;</a>
        {% else %}
            <span class="btn btn-sm btn-outline-secondary disabled">다음</span>
            <span class="btn btn-sm btn-outline-secondary disabled">마지막 &raquo;</span>
        {% endif %}
    </div>

</body>
</html>
